<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - 6.4 - dev/ic/pcdisplay_chars.c</title>
  <link rel="stylesheet" type="text/css" href="../../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../../index.html">top level</a> - <a href="index.html">dev/ic</a> - pcdisplay_chars.c<span style="font-size: 80%;"> (source / <a href="pcdisplay_chars.c.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">6.4</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">18</td>
            <td class="headerCovTableEntryLo">0.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2018-10-19 03:25:38</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">0</td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntryLo">0.0 %</td>
          </tr>
          <tr>
            <td class="headerItem">Legend:</td>
            <td class="headerValueLeg">            Lines:
            <span class="coverLegendCov">hit</span>
            <span class="coverLegendNoCov">not hit</span>
</td>
            <td></td>
          </tr>
          <tr><td><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : /* $OpenBSD: pcdisplay_chars.c,v 1.5 2010/08/28 12:48:14 miod Exp $ */</a>
<span class="lineNum">       2 </span>            : /* $NetBSD: pcdisplay_chars.c,v 1.5 2000/06/08 07:01:19 cgd Exp $ */
<span class="lineNum">       3 </span>            : 
<span class="lineNum">       4 </span>            : /*
<span class="lineNum">       5 </span>            :  * Copyright (c) 1998
<span class="lineNum">       6 </span>            :  *      Matthias Drochner.  All rights reserved.
<span class="lineNum">       7 </span>            :  *
<span class="lineNum">       8 </span>            :  * Redistribution and use in source and binary forms, with or without
<span class="lineNum">       9 </span>            :  * modification, are permitted provided that the following conditions
<span class="lineNum">      10 </span>            :  * are met:
<span class="lineNum">      11 </span>            :  * 1. Redistributions of source code must retain the above copyright
<span class="lineNum">      12 </span>            :  *    notice, this list of conditions and the following disclaimer.
<span class="lineNum">      13 </span>            :  * 2. Redistributions in binary form must reproduce the above copyright
<span class="lineNum">      14 </span>            :  *    notice, this list of conditions and the following disclaimer in the
<span class="lineNum">      15 </span>            :  *    documentation and/or other materials provided with the distribution.
<span class="lineNum">      16 </span>            :  *
<span class="lineNum">      17 </span>            :  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
<span class="lineNum">      18 </span>            :  * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
<span class="lineNum">      19 </span>            :  * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
<span class="lineNum">      20 </span>            :  * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
<span class="lineNum">      21 </span>            :  * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
<span class="lineNum">      22 </span>            :  * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
<span class="lineNum">      23 </span>            :  * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
<span class="lineNum">      24 </span>            :  * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
<span class="lineNum">      25 </span>            :  * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
<span class="lineNum">      26 </span>            :  * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
<span class="lineNum">      27 </span>            :  *
<span class="lineNum">      28 </span>            :  */
<span class="lineNum">      29 </span>            : 
<span class="lineNum">      30 </span>            : #include &lt;sys/param.h&gt;
<span class="lineNum">      31 </span>            : #include &lt;sys/systm.h&gt;
<span class="lineNum">      32 </span>            : #include &lt;sys/device.h&gt;
<span class="lineNum">      33 </span>            : #include &lt;machine/bus.h&gt;
<span class="lineNum">      34 </span>            : 
<span class="lineNum">      35 </span>            : #include &lt;dev/ic/mc6845reg.h&gt;
<span class="lineNum">      36 </span>            : #include &lt;dev/ic/pcdisplayvar.h&gt;
<span class="lineNum">      37 </span>            : 
<span class="lineNum">      38 </span>            : #include &lt;dev/wscons/unicode.h&gt;
<span class="lineNum">      39 </span>            : 
<span class="lineNum">      40 </span>            : #define CONTROL 1 /* XXX smiley */
<span class="lineNum">      41 </span>            : #define NOTPRINTABLE 4 /* diamond XXX watch out - not in ISO part! */
<span class="lineNum">      42 </span>            : 
<span class="lineNum">      43 </span>            : static const u_char isomappings[128] = {
<span class="lineNum">      44 </span>            :         CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL,
<span class="lineNum">      45 </span>            :         CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL,
<span class="lineNum">      46 </span>            :         CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL,
<span class="lineNum">      47 </span>            :         CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL, CONTROL,
<span class="lineNum">      48 </span>            :         0xff, /* 0x00a0 NO-BREAK SPACE */
<span class="lineNum">      49 </span>            :         0xad, /* 0x00a1 INVERTED EXCLAMATION MARK */
<span class="lineNum">      50 </span>            :         0x9b, /* 0x00a2 CENT SIGN */
<span class="lineNum">      51 </span>            :         0x9c, /* 0x00a3 POUND SIGN */
<span class="lineNum">      52 </span>            :         NOTPRINTABLE, /* 0x00a4 CURRENCY SIGN */
<span class="lineNum">      53 </span>            :         0x9d, /* 0x00a5 YEN SIGN */
<span class="lineNum">      54 </span>            :         0x7c, /* 0x00a6 BROKEN BAR */
<span class="lineNum">      55 </span>            :         0x15, /* 0x00a7 SECTION SIGN */
<span class="lineNum">      56 </span>            :         NOTPRINTABLE, /* 0x00a8 DIAERESIS */
<span class="lineNum">      57 </span>            :         NOTPRINTABLE, /* 0x00a9 COPYRIGHT SIGN */
<span class="lineNum">      58 </span>            :         0xa6, /* 0x00aa FEMININE ORDINAL INDICATOR */
<span class="lineNum">      59 </span>            :         0xae, /* 0x00ab LEFT-POINTING DOUBLE ANGLE QUOTATION MARK */
<span class="lineNum">      60 </span>            :         0xaa, /* 0x00ac NOT SIGN */
<span class="lineNum">      61 </span>            :         0xc4, /* 0x00ad SOFT HYPHEN */
<span class="lineNum">      62 </span>            :         NOTPRINTABLE, /* 0x00ae REGISTERED SIGN */
<span class="lineNum">      63 </span>            :         NOTPRINTABLE, /* 0x00af MACRON */
<span class="lineNum">      64 </span>            :         0xf8, /* 0x00b0 DEGREE SIGN */
<span class="lineNum">      65 </span>            :         0xf1, /* 0x00b1 PLUS-MINUS SIGN */
<span class="lineNum">      66 </span>            :         0xfd, /* 0x00b2 SUPERSCRIPT TWO */
<span class="lineNum">      67 </span>            :         NOTPRINTABLE, /* 0x00b3 SUPERSCRIPT THREE */
<span class="lineNum">      68 </span>            :         0x27, /* 0x00b4 ACUTE ACCENT */
<span class="lineNum">      69 </span>            :         0xe6, /* 0x00b5 MICRO SIGN */
<span class="lineNum">      70 </span>            :         0x14, /* 0x00b6 PILCROW SIGN */
<span class="lineNum">      71 </span>            :         0xfa, /* 0x00b7 MIDDLE DOT */
<span class="lineNum">      72 </span>            :         NOTPRINTABLE, /* 0x00b8 CEDILLA */
<span class="lineNum">      73 </span>            :         NOTPRINTABLE, /* 0x00b9 SUPERSCRIPT ONE */
<span class="lineNum">      74 </span>            :         0xa7, /* 0x00ba MASCULINE ORDINAL INDICATOR */
<span class="lineNum">      75 </span>            :         0xaf, /* 0x00bb RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK */
<span class="lineNum">      76 </span>            :         0xac, /* 0x00bc VULGAR FRACTION ONE QUARTER */
<span class="lineNum">      77 </span>            :         0xab, /* 0x00bd VULGAR FRACTION ONE HALF */
<span class="lineNum">      78 </span>            :         NOTPRINTABLE, /* 0x00be VULGAR FRACTION THREE QUARTERS */
<span class="lineNum">      79 </span>            :         0xa8, /* 0x00bf INVERTED QUESTION MARK */
<span class="lineNum">      80 </span>            :         NOTPRINTABLE, /* 0x00c0 LATIN CAPITAL LETTER A WITH GRAVE */
<span class="lineNum">      81 </span>            :         NOTPRINTABLE, /* 0x00c1 LATIN CAPITAL LETTER A WITH ACUTE */
<span class="lineNum">      82 </span>            :         NOTPRINTABLE, /* 0x00c2 LATIN CAPITAL LETTER A WITH CIRCUMFLEX */
<span class="lineNum">      83 </span>            :         NOTPRINTABLE, /* 0x00c3 LATIN CAPITAL LETTER A WITH TILDE */
<span class="lineNum">      84 </span>            :         0x8e, /* 0x00c4 LATIN CAPITAL LETTER A WITH DIAERESIS */
<span class="lineNum">      85 </span>            :         0x8f, /* 0x00c5 LATIN CAPITAL LETTER A WITH RING ABOVE */
<span class="lineNum">      86 </span>            :         0x92, /* 0x00c6 LATIN CAPITAL LIGATURE AE */
<span class="lineNum">      87 </span>            :         0x80, /* 0x00c7 LATIN CAPITAL LETTER C WITH CEDILLA */
<span class="lineNum">      88 </span>            :         NOTPRINTABLE, /* 0x00c8 LATIN CAPITAL LETTER E WITH GRAVE */
<span class="lineNum">      89 </span>            :         0x90, /* 0x00c9 LATIN CAPITAL LETTER E WITH ACUTE */
<span class="lineNum">      90 </span>            :         NOTPRINTABLE, /* 0x00ca LATIN CAPITAL LETTER E WITH CIRCUMFLEX */
<span class="lineNum">      91 </span>            :         NOTPRINTABLE, /* 0x00cb LATIN CAPITAL LETTER E WITH DIAERESIS */
<span class="lineNum">      92 </span>            :         NOTPRINTABLE, /* 0x00cc LATIN CAPITAL LETTER I WITH GRAVE */
<span class="lineNum">      93 </span>            :         NOTPRINTABLE, /* 0x00cd LATIN CAPITAL LETTER I WITH ACUTE */
<span class="lineNum">      94 </span>            :         NOTPRINTABLE, /* 0x00ce LATIN CAPITAL LETTER I WITH CIRCUMFLEX */
<span class="lineNum">      95 </span>            :         NOTPRINTABLE, /* 0x00cf LATIN CAPITAL LETTER I WITH DIAERESIS */
<span class="lineNum">      96 </span>            :         NOTPRINTABLE, /* 0x00d0 LATIN CAPITAL LETTER ETH */
<span class="lineNum">      97 </span>            :         0xa5, /* 0x00d1 LATIN CAPITAL LETTER N WITH TILDE */
<span class="lineNum">      98 </span>            :         NOTPRINTABLE, /* 0x00d2 LATIN CAPITAL LETTER O WITH GRAVE */
<span class="lineNum">      99 </span>            :         NOTPRINTABLE, /* 0x00d3 LATIN CAPITAL LETTER O WITH ACUTE */
<span class="lineNum">     100 </span>            :         NOTPRINTABLE, /* 0x00d4 LATIN CAPITAL LETTER O WITH CIRCUMFLEX */
<span class="lineNum">     101 </span>            :         NOTPRINTABLE, /* 0x00d5 LATIN CAPITAL LETTER O WITH TILDE */
<span class="lineNum">     102 </span>            :         0x99, /* 0x00d6 LATIN CAPITAL LETTER O WITH DIAERESIS */
<span class="lineNum">     103 </span>            :         NOTPRINTABLE, /* 0x00d7 MULTIPLICATION SIGN */
<span class="lineNum">     104 </span>            :         NOTPRINTABLE, /* 0x00d8 LATIN CAPITAL LETTER O WITH STROKE */
<span class="lineNum">     105 </span>            :         NOTPRINTABLE, /* 0x00d9 LATIN CAPITAL LETTER U WITH GRAVE */
<span class="lineNum">     106 </span>            :         NOTPRINTABLE, /* 0x00da LATIN CAPITAL LETTER U WITH ACUTE */
<span class="lineNum">     107 </span>            :         NOTPRINTABLE, /* 0x00db LATIN CAPITAL LETTER U WITH CIRCUMFLEX */
<span class="lineNum">     108 </span>            :         0x9a, /* 0x00dc LATIN CAPITAL LETTER U WITH DIAERESIS */
<span class="lineNum">     109 </span>            :         NOTPRINTABLE, /* 0x00dd LATIN CAPITAL LETTER Y WITH ACUTE */
<span class="lineNum">     110 </span>            :         NOTPRINTABLE, /* 0x00de LATIN CAPITAL LETTER THORN */
<span class="lineNum">     111 </span>            :         0xe1, /* 0x00df LATIN SMALL LETTER SHARP S */
<span class="lineNum">     112 </span>            :         0x85, /* 0x00e0 LATIN SMALL LETTER A WITH GRAVE */
<span class="lineNum">     113 </span>            :         0xa0, /* 0x00e1 LATIN SMALL LETTER A WITH ACUTE */
<span class="lineNum">     114 </span>            :         0x83, /* 0x00e2 LATIN SMALL LETTER A WITH CIRCUMFLEX */
<span class="lineNum">     115 </span>            :         NOTPRINTABLE, /* 0x00e3 LATIN SMALL LETTER A WITH TILDE */
<span class="lineNum">     116 </span>            :         0x84, /* 0x00e4 LATIN SMALL LETTER A WITH DIAERESIS */
<span class="lineNum">     117 </span>            :         0x86, /* 0x00e5 LATIN SMALL LETTER A WITH RING ABOVE */
<span class="lineNum">     118 </span>            :         0x91, /* 0x00e6 LATIN SMALL LIGATURE AE */
<span class="lineNum">     119 </span>            :         0x87, /* 0x00e7 LATIN SMALL LETTER C WITH CEDILLA */
<span class="lineNum">     120 </span>            :         0x8a, /* 0x00e8 LATIN SMALL LETTER E WITH GRAVE */
<span class="lineNum">     121 </span>            :         0x82, /* 0x00e9 LATIN SMALL LETTER E WITH ACUTE */
<span class="lineNum">     122 </span>            :         0x88, /* 0x00ea LATIN SMALL LETTER E WITH CIRCUMFLEX */
<span class="lineNum">     123 </span>            :         0x89, /* 0x00eb LATIN SMALL LETTER E WITH DIAERESIS */
<span class="lineNum">     124 </span>            :         0x8d, /* 0x00ec LATIN SMALL LETTER I WITH GRAVE */
<span class="lineNum">     125 </span>            :         0xa1, /* 0x00ed LATIN SMALL LETTER I WITH ACUTE */
<span class="lineNum">     126 </span>            :         0x8c, /* 0x00ee LATIN SMALL LETTER I WITH CIRCUMFLEX */
<span class="lineNum">     127 </span>            :         0x8b, /* 0x00ef LATIN SMALL LETTER I WITH DIAERESIS */
<span class="lineNum">     128 </span>            :         NOTPRINTABLE, /* 0x00f0 LATIN SMALL LETTER ETH */
<span class="lineNum">     129 </span>            :         0xa4, /* 0x00f1 LATIN SMALL LETTER N WITH TILDE */
<span class="lineNum">     130 </span>            :         0x95, /* 0x00f2 LATIN SMALL LETTER O WITH GRAVE */
<span class="lineNum">     131 </span>            :         0xa2, /* 0x00f3 LATIN SMALL LETTER O WITH ACUTE */
<span class="lineNum">     132 </span>            :         0x93, /* 0x00f4 LATIN SMALL LETTER O WITH CIRCUMFLEX */
<span class="lineNum">     133 </span>            :         NOTPRINTABLE, /* 0x00f5 LATIN SMALL LETTER O WITH TILDE */
<span class="lineNum">     134 </span>            :         0x94, /* 0x00f6 LATIN SMALL LETTER O WITH DIAERESIS */
<span class="lineNum">     135 </span>            :         0xf6, /* 0x00f7 DIVISION SIGN */
<span class="lineNum">     136 </span>            :         NOTPRINTABLE, /* 0x00f8 LATIN SMALL LETTER O WITH STROKE */
<span class="lineNum">     137 </span>            :         0x97, /* 0x00f9 LATIN SMALL LETTER U WITH GRAVE */
<span class="lineNum">     138 </span>            :         0xa3, /* 0x00fa LATIN SMALL LETTER U WITH ACUTE */
<span class="lineNum">     139 </span>            :         0x96, /* 0x00fb LATIN SMALL LETTER U WITH CIRCUMFLEX */
<span class="lineNum">     140 </span>            :         0x81, /* 0x00fc LATIN SMALL LETTER U WITH DIAERESIS */
<span class="lineNum">     141 </span>            :         NOTPRINTABLE, /* 0x00fd LATIN SMALL LETTER Y WITH ACUTE */
<span class="lineNum">     142 </span>            :         NOTPRINTABLE, /* 0x00fe LATIN SMALL LETTER THORN */
<span class="lineNum">     143 </span>            :         0x98, /* 0x00ff LATIN SMALL LETTER Y WITH DIAERESIS */
<span class="lineNum">     144 </span>            : };
<span class="lineNum">     145 </span>            : 
<span class="lineNum">     146 </span>            : static const struct {
<span class="lineNum">     147 </span>            :         u_int16_t uni;
<span class="lineNum">     148 </span>            :         u_char ibm;
<span class="lineNum">     149 </span>            : } unimappings[] = {
<span class="lineNum">     150 </span>            :         {0x0192, 0x9f}, /* LATIN SMALL LETTER F WITH HOOK */
<span class="lineNum">     151 </span>            :         {0x0393, 0xe2}, /* GREEK CAPITAL LETTER GAMMA */
<span class="lineNum">     152 </span>            :         {0x0398, 0xe9}, /* GREEK CAPITAL LETTER THETA */
<span class="lineNum">     153 </span>            :         {0x03a3, 0xe4}, /* GREEK CAPITAL LETTER SIGMA */
<span class="lineNum">     154 </span>            :         {0x03a6, 0xe8}, /* GREEK CAPITAL LETTER PHI */
<span class="lineNum">     155 </span>            :         {0x03a9, 0xea}, /* GREEK CAPITAL LETTER OMEGA */
<span class="lineNum">     156 </span>            :         {0x03b1, 0xe0}, /* GREEK SMALL LETTER ALPHA */
<span class="lineNum">     157 </span>            :         {0x03b2, 0xe1}, /* GREEK SMALL LETTER BETA */
<span class="lineNum">     158 </span>            :         {0x03b4, 0xeb}, /* GREEK SMALL LETTER DELTA */
<span class="lineNum">     159 </span>            :         {0x03b5, 0xee}, /* GREEK SMALL LETTER EPSILON */
<span class="lineNum">     160 </span>            :         {0x03c0, 0xe3}, /* GREEK SMALL LETTER PI */
<span class="lineNum">     161 </span>            :         {0x03c3, 0xe5}, /* GREEK SMALL LETTER SIGMA */
<span class="lineNum">     162 </span>            :         {0x03c4, 0xe7}, /* GREEK SMALL LETTER TAU */
<span class="lineNum">     163 </span>            :         {0x03c6, 0xed}, /* GREEK SMALL LETTER PHI */
<span class="lineNum">     164 </span>            :         {0x2022, 0x07}, /* BULLET */
<span class="lineNum">     165 </span>            :         {0x203c, 0x13}, /* DOUBLE EXCLAMATION MARK */
<span class="lineNum">     166 </span>            :         {0x207f, 0xfc}, /* SUPERSCRIPT LATIN SMALL LETTER N */
<span class="lineNum">     167 </span>            :         {0x20a7, 0x9e}, /* PESETA SIGN */
<span class="lineNum">     168 </span>            :         {0x2190, 0x1b}, /* LEFTWARDS ARROW */
<span class="lineNum">     169 </span>            :         {0x2191, 0x18}, /* UPWARDS ARROW */
<span class="lineNum">     170 </span>            :         {0x2192, 0x1a}, /* RIGHTWARDS ARROW */
<span class="lineNum">     171 </span>            :         {0x2193, 0x19}, /* DOWNWARDS ARROW */
<span class="lineNum">     172 </span>            :         {0x2194, 0x1d}, /* LEFT RIGHT ARROW */
<span class="lineNum">     173 </span>            :         {0x2195, 0x12}, /* UP DOWN ARROW */
<span class="lineNum">     174 </span>            :         {0x21a8, 0x17}, /* UP DOWN ARROW WITH BASE */
<span class="lineNum">     175 </span>            :         {0x2212, 0x2d}, /* MINUS SIGN XXX move to more general place */
<span class="lineNum">     176 </span>            :         {0x2215, 0x2f}, /* DIVISION SLASH XXX move to more general place */
<span class="lineNum">     177 </span>            :         {0x2219, 0xf9}, /* BULLET OPERATOR */
<span class="lineNum">     178 </span>            :         {0x221a, 0xfb}, /* SQUARE ROOT */
<span class="lineNum">     179 </span>            :         {0x221e, 0xec}, /* INFINITY */
<span class="lineNum">     180 </span>            :         {0x2229, 0xef}, /* INTERSECTION */
<span class="lineNum">     181 </span>            :         {0x2248, 0xf7}, /* ALMOST EQUAL TO */
<span class="lineNum">     182 </span>            :         {0x2261, 0xf0}, /* IDENTICAL TO */
<span class="lineNum">     183 </span>            :         {0x2264, 0xf3}, /* LESS-THAN OR EQUAL TO */
<span class="lineNum">     184 </span>            :         {0x2265, 0xf2}, /* GREATER-THAN OR EQUAL TO */
<span class="lineNum">     185 </span>            :         {0x2302, 0x7f}, /* HOUSE */
<span class="lineNum">     186 </span>            :         {0x2310, 0xa9}, /* REVERSED NOT SIGN */
<span class="lineNum">     187 </span>            :         {0x2320, 0xf4}, /* TOP HALF INTEGRAL */
<span class="lineNum">     188 </span>            :         {0x2321, 0xf5}, /* BOTTOM HALF INTEGRAL */
<span class="lineNum">     189 </span>            :         {0x2500, 0xc4}, /* BOX DRAWINGS LIGHT HORIZONTAL */
<span class="lineNum">     190 </span>            :         {0x2502, 0xb3}, /* BOX DRAWINGS LIGHT VERTICAL */
<span class="lineNum">     191 </span>            :         {0x250c, 0xda}, /* BOX DRAWINGS LIGHT DOWN AND RIGHT */
<span class="lineNum">     192 </span>            :         {0x2510, 0xbf}, /* BOX DRAWINGS LIGHT DOWN AND LEFT */
<span class="lineNum">     193 </span>            :         {0x2514, 0xc0}, /* BOX DRAWINGS LIGHT UP AND RIGHT */
<span class="lineNum">     194 </span>            :         {0x2518, 0xd9}, /* BOX DRAWINGS LIGHT UP AND LEFT */
<span class="lineNum">     195 </span>            :         {0x251c, 0xc3}, /* BOX DRAWINGS LIGHT VERTICAL AND RIGHT */
<span class="lineNum">     196 </span>            :         {0x2524, 0xb4}, /* BOX DRAWINGS LIGHT VERTICAL AND LEFT */
<span class="lineNum">     197 </span>            :         {0x252c, 0xc2}, /* BOX DRAWINGS LIGHT DOWN AND HORIZONTAL */
<span class="lineNum">     198 </span>            :         {0x2534, 0xc1}, /* BOX DRAWINGS LIGHT UP AND HORIZONTAL */
<span class="lineNum">     199 </span>            :         {0x253c, 0xc5}, /* BOX DRAWINGS LIGHT VERTICAL AND HORIZONTAL */
<span class="lineNum">     200 </span>            :         {0x2550, 0xcd}, /* BOX DRAWINGS DOUBLE HORIZONTAL */
<span class="lineNum">     201 </span>            :         {0x2551, 0xba}, /* BOX DRAWINGS DOUBLE VERTICAL */
<span class="lineNum">     202 </span>            :         {0x2552, 0xd5}, /* BOX DRAWINGS DOWN SINGLE AND RIGHT DOUBLE */
<span class="lineNum">     203 </span>            :         {0x2553, 0xd6}, /* BOX DRAWINGS DOWN DOUBLE AND RIGHT SINGLE */
<span class="lineNum">     204 </span>            :         {0x2554, 0xc9}, /* BOX DRAWINGS DOUBLE DOWN AND RIGHT */
<span class="lineNum">     205 </span>            :         {0x2555, 0xb8}, /* BOX DRAWINGS DOWN SINGLE AND LEFT DOUBLE */
<span class="lineNum">     206 </span>            :         {0x2556, 0xb7}, /* BOX DRAWINGS DOWN DOUBLE AND LEFT SINGLE */
<span class="lineNum">     207 </span>            :         {0x2557, 0xbb}, /* BOW DRAWINGS DOUBLE DOWN AND LEFT */
<span class="lineNum">     208 </span>            :         {0x2558, 0xd4}, /* BOX DRAWINGS UP SINGLE AND RIGHT DOUBLE */
<span class="lineNum">     209 </span>            :         {0x2559, 0xd3}, /* BOX DRAWINGS UP DOUBLE AND RIGHT SINGLE */
<span class="lineNum">     210 </span>            :         {0x255a, 0xc8}, /* BOX DRAWINGS DOUBLE UP AND RIGHT */
<span class="lineNum">     211 </span>            :         {0x255b, 0xbe}, /* BOX DRAWINGS UP SINGLE AND LEFT DOUBLE */
<span class="lineNum">     212 </span>            :         {0x255c, 0xbd}, /* BOX DRAWINGS UP DOUBLE AND LEFT SINGLE */
<span class="lineNum">     213 </span>            :         {0x255d, 0xbc}, /* BOX DRAWINGS DOUBLE UP AND LEFT */
<span class="lineNum">     214 </span>            :         {0x255e, 0xc6}, /* BOX DRAWINGS VERTICAL SINGLE AND RIGHT DOUBLE */
<span class="lineNum">     215 </span>            :         {0x255f, 0xc7}, /* BOX DRAWINGS VERTICAL DOUBLE AND RIGHT SINGLE */
<span class="lineNum">     216 </span>            :         {0x2560, 0xcc}, /* BOX DRAWINGS DOUBLE VERTICAL AND RIGHT */
<span class="lineNum">     217 </span>            :         {0x2561, 0xb4}, /* BOX DRAWINGS VERTICAL SINGLE AND LEFT DOUBLE */
<span class="lineNum">     218 </span>            :         {0x2562, 0xb5}, /* BOX DRAWINGS VERTICAL DOUBLE AND LEFT SINGLE */
<span class="lineNum">     219 </span>            :         {0x2563, 0xb9}, /* BOX DRAWINGS DOUBLE VERTICAL AND LEFT */
<span class="lineNum">     220 </span>            :         {0x2564, 0xd1}, /* BOX DRAWINGS DOWN SINGLE AND HORIZONTAL DOUBLE */
<span class="lineNum">     221 </span>            :         {0x2565, 0xd2}, /* BOX DRAWINGS DOWN DOUBLE AND HORIZONTAL SINGLE */
<span class="lineNum">     222 </span>            :         {0x2566, 0xcb}, /* BOX DRAWINGS DOUBLE DOWN AND HORIZONTAL */
<span class="lineNum">     223 </span>            :         {0x2567, 0xcf}, /* BOX DRAWINGS UP SINGLE AND HORIZONTAL DOUBLE */
<span class="lineNum">     224 </span>            :         {0x2568, 0xd0}, /* BOX DRAWINGS UP DOUBLE AND HORIZONTAL SINGLE */
<span class="lineNum">     225 </span>            :         {0x2569, 0xca}, /* BOX DRAWINGS DOUBLE UP AND HORIZONTAL */
<span class="lineNum">     226 </span>            :         {0x256a, 0xd8}, /* BOX DRAWINGS VERTICAL SINGLE AND HORIZONTAL DOUBLE */
<span class="lineNum">     227 </span>            :         {0x256b, 0xd7}, /* BOX DRAWINGS VERTICAL DOUBLE AND HORIZONTAL SINGLE */
<span class="lineNum">     228 </span>            :         {0x256c, 0xce}, /* BOX DRAWINGS DOUBLE VERTICAL AND HORIZONTAL */
<span class="lineNum">     229 </span>            :         {0x2580, 0xdf}, /* UPPER HALF BLOCK */
<span class="lineNum">     230 </span>            :         {0x2584, 0xdc}, /* LOWER HALF BLOCK */
<span class="lineNum">     231 </span>            :         {0x2588, 0xdb}, /* FULL BLOCK */
<span class="lineNum">     232 </span>            :         {0x258c, 0xdd}, /* LEFT HALF BLOCK */
<span class="lineNum">     233 </span>            :         {0x2590, 0xde}, /* RIGHT HALF BLOCK */
<span class="lineNum">     234 </span>            :         {0x2591, 0xb0}, /* LIGHT SHADE */
<span class="lineNum">     235 </span>            :         {0x2592, 0xb1}, /* MEDIUM SHADE */
<span class="lineNum">     236 </span>            :         {0x2593, 0xb2}, /* DARK SHADE */
<span class="lineNum">     237 </span>            :         {0x25a0, 0xfe}, /* BLACK SQUARE */
<span class="lineNum">     238 </span>            :         {0x25ac, 0x16}, /* BLACK RECTANGLE */
<span class="lineNum">     239 </span>            :         {0x25b2, 0x1e}, /* BLACK UP-POINTING TRIANGLE */
<span class="lineNum">     240 </span>            :         {0x25ba, 0x10}, /* BLACK RIGHT-POINTING POINTER */
<span class="lineNum">     241 </span>            :         {0x25bc, 0x1f}, /* BLACK DOWN-POINTING TRIANGLE */
<span class="lineNum">     242 </span>            :         {0x25c4, 0x11}, /* BLACK LEFT-POINTING POINTER */
<span class="lineNum">     243 </span>            :         {0x25c6, 0x04}, /* BLACK DIAMOND */
<span class="lineNum">     244 </span>            :         {0x25cb, 0x09}, /* WHITE CIRCLE */
<span class="lineNum">     245 </span>            :         {0x25d8, 0x08}, /* INVERSE BULLET */
<span class="lineNum">     246 </span>            :         {0x25d9, 0x0a}, /* INVERSE WHITE CIRCLE */
<span class="lineNum">     247 </span>            :         {0x263a, 0x01}, /* WHITE SMILING FACE */
<span class="lineNum">     248 </span>            :         {0x263b, 0x02}, /* BLACK SMILING FACE */
<span class="lineNum">     249 </span>            :         {0x263c, 0x0f}, /* WHITE SUN WITH RAYS */
<span class="lineNum">     250 </span>            :         {0x2640, 0x0c}, /* FEMALE SIGN */
<span class="lineNum">     251 </span>            :         {0x2642, 0x0b}, /* MALE SIGN */
<span class="lineNum">     252 </span>            :         {0x2660, 0x06}, /* BLACK SPADE SUIT */
<span class="lineNum">     253 </span>            :         {0x2663, 0x05}, /* BLACK CLUB SUIT */
<span class="lineNum">     254 </span>            :         {0x2665, 0x03}, /* BLACK HEART SUIT */
<span class="lineNum">     255 </span>            :         {0x2666, 0x04}, /* BLACK DIAMOND SUIT */
<span class="lineNum">     256 </span>            :         {0x266a, 0x0d}, /* EIGHTH NOTE */
<span class="lineNum">     257 </span>            :         {0x266b, 0x0e}, /* BEAMED EIGHTH NOTES */
<span class="lineNum">     258 </span>            : };
<span class="lineNum">     259 </span>            : 
<span class="lineNum">     260 </span>            : static const struct {
<span class="lineNum">     261 </span>            :         u_int16_t uni;
<span class="lineNum">     262 </span>            :         u_char ibm;
<span class="lineNum">     263 </span>            :         int quality;
<span class="lineNum">     264 </span>            : } replacements[] = {
<span class="lineNum">     265 </span>            :         {0x00af, 0x2d, 3}, /* MACRON -&gt; - */
<span class="lineNum">     266 </span>            :         {0x221f, 0xc0, 3}, /* RIGHT ANGLE -&gt; light up and right */
<span class="lineNum">     267 </span>            :         {0x222a, 0x55, 3}, /* UNION -&gt; U */
<span class="lineNum">     268 </span>            :         {0x223c, 0x7e, 3}, /* TILDE OPERATOR -&gt; ~ */
<span class="lineNum">     269 </span>            :         {0x2308, 0xda, 3}, /* LEFT CEILING -&gt; light down and right */
<span class="lineNum">     270 </span>            :         {0x2309, 0xbf, 3}, /* RIGHT CEILING -&gt; light down and left */
<span class="lineNum">     271 </span>            :         {0x230a, 0xc0, 3}, /* LEFT FLOOR -&gt; light up and right */
<span class="lineNum">     272 </span>            :         {0x230b, 0xd9, 3}, /* RIGHT FLOOR -&gt; light up and left */
<span class="lineNum">     273 </span>            :         {0x2329, 0x3c, 3}, /* LEFT-POINTING ANGLE BRACKET -&gt; &lt; */
<span class="lineNum">     274 </span>            :         {0x232a, 0x3e, 3}, /* RIGHT-POINTING ANGLE BRACKET -&gt; &gt; */
<span class="lineNum">     275 </span>            :         {_e003U, 0x2d, 3}, /* scan 5 -&gt; - */
<span class="lineNum">     276 </span>            :         {_e005U, 0x5f, 3}, /* scan 9 -&gt; _ */
<span class="lineNum">     277 </span>            :         {_e00bU, 0x7b, 3}, /* braceleftmid -&gt; { */
<span class="lineNum">     278 </span>            :         {_e00cU, 0x7d, 3}, /* bracerightmid -&gt; } */
<span class="lineNum">     279 </span>            :         {_e00fU, 0xd9, 3}, /* mirrored not sign? -&gt; light up and left */
<span class="lineNum">     280 </span>            :         {0x00d7, 0x78, 2}, /* MULTIPLICATION SIGN -&gt; x */
<span class="lineNum">     281 </span>            :         {0x00d8, 0xe9, 2}, /* LATIN CAPITAL LETTER O WITH STROKE -&gt; Theta */
<span class="lineNum">     282 </span>            :         {0x00f8, 0xed, 2}, /* LATIN SMALL LETTER O WITH STROKE -&gt; phi */
<span class="lineNum">     283 </span>            :         {0x03a0, 0xe3, 2}, /* GREEK CAPITAL LETTER PI -&gt; pi */
<span class="lineNum">     284 </span>            :         {0x03a5, 0x59, 2}, /* GREEK CAPITAL LETTER UPSILON -&gt; Y */
<span class="lineNum">     285 </span>            :         {0x03b3, 0x59, 2}, /* GREEK SMALL LETTER GAMMA -&gt; Y */
<span class="lineNum">     286 </span>            :         {0x03b8, 0xe9, 2}, /* GREEK SMALL LETTER THETA -&gt; Theta */
<span class="lineNum">     287 </span>            :         {0x03bd, 0x76, 2}, /* GREEK SMALL LETTER NU -&gt; v */
<span class="lineNum">     288 </span>            :         {0x03c9, 0x77, 2}, /* GREEK SMALL LETTER OMEGA -&gt; w */
<span class="lineNum">     289 </span>            :         {0x20ac, 0x45, 2}, /* EURO SIGN -&gt; E */
<span class="lineNum">     290 </span>            :         {_e002U, 0x2d, 2}, /* scan 3 -&gt; - */
<span class="lineNum">     291 </span>            :         {_e004U, 0x2d, 2}, /* scan 7 -&gt; - */
<span class="lineNum">     292 </span>            :         {_e007U, 0xda, 2}, /* bracelefttp -&gt; light down and right */
<span class="lineNum">     293 </span>            :         {_e008U, 0xc0, 2}, /* braceleftbt -&gt; light up and right */
<span class="lineNum">     294 </span>            :         {_e009U, 0xbf, 2}, /* bracerighttp -&gt; light down and left */
<span class="lineNum">     295 </span>            :         {_e00aU, 0xd9, 2}, /* bracerighrbt -&gt; light up and left */
<span class="lineNum">     296 </span>            :         {_e00dU, 0x3c, 2}, /* inverted angle? -&gt; &lt; */
<span class="lineNum">     297 </span>            :         {_e00eU, 0x3c, 2}, /* angle? -&gt; &lt; */
<span class="lineNum">     298 </span>            :         {_e00fU, 0xd9, 2}, /* mirrored not sign? -&gt; light up and left */
<span class="lineNum">     299 </span>            :         {0x00a9, 0x63, 1}, /* COPYRIGHT SIGN -&gt; c */
<span class="lineNum">     300 </span>            :         {0x00ae, 0x72, 1}, /* REGISTERED SIGN -&gt; r */
<span class="lineNum">     301 </span>            :         {0x00b3, 0x33, 1}, /* SUPERSCRIPT THREE -&gt; 3 */
<span class="lineNum">     302 </span>            :         {0x00b9, 0x39, 1}, /* SUPERSCRIPT ONE -&gt; 1 */
<span class="lineNum">     303 </span>            :         {0x00c0, 0x41, 1}, /* LATIN CAPITAL LETTER A WITH GRAVE -&gt; A */
<span class="lineNum">     304 </span>            :         {0x00c1, 0x41, 1}, /* LATIN CAPITAL LETTER A WITH ACUTE -&gt; A */
<span class="lineNum">     305 </span>            :         {0x00c2, 0x41, 1}, /* LATIN CAPITAL LETTER A WITH CIRCUMFLEX -&gt; A */
<span class="lineNum">     306 </span>            :         {0x00c3, 0x41, 1}, /* LATIN CAPITAL LETTER A WITH TILDE -&gt; A */
<span class="lineNum">     307 </span>            :         {0x00c8, 0x45, 1}, /* LATIN CAPITAL LETTER E WITH GRAVE -&gt; E */
<span class="lineNum">     308 </span>            :         {0x00ca, 0x45, 1}, /* LATIN CAPITAL LETTER E WITH CIRCUMFLEX -&gt; E */
<span class="lineNum">     309 </span>            :         {0x00cb, 0x45, 1}, /* LATIN CAPITAL LETTER E WITH DIAERESIS -&gt; E */
<span class="lineNum">     310 </span>            :         {0x00cc, 0x49, 1}, /* LATIN CAPITAL LETTER I WITH GRAVE -&gt; I */
<span class="lineNum">     311 </span>            :         {0x00cd, 0x49, 1}, /* LATIN CAPITAL LETTER I WITH ACUTE -&gt; I */
<span class="lineNum">     312 </span>            :         {0x00ce, 0x49, 1}, /* LATIN CAPITAL LETTER I WITH CIRCUMFLEX -&gt; I */
<span class="lineNum">     313 </span>            :         {0x00cf, 0x49, 1}, /* LATIN CAPITAL LETTER I WITH DIAERESIS -&gt; I */
<span class="lineNum">     314 </span>            :         {0x00d0, 0x44, 1}, /* LATIN CAPITAL LETTER ETH -&gt; D */
<span class="lineNum">     315 </span>            :         {0x00d2, 0x4f, 1}, /* LATIN CAPITAL LETTER O WITH GRAVE -&gt; O */
<span class="lineNum">     316 </span>            :         {0x00d3, 0x4f, 1}, /* LATIN CAPITAL LETTER O WITH ACUTE -&gt; O */
<span class="lineNum">     317 </span>            :         {0x00d4, 0x4f, 1}, /* LATIN CAPITAL LETTER O WITH CIRCUMFLEX -&gt; O */
<span class="lineNum">     318 </span>            :         {0x00d5, 0x4f, 1}, /* LATIN CAPITAL LETTER O WITH TILDE -&gt; O */
<span class="lineNum">     319 </span>            :         {0x00d9, 0x55, 1}, /* LATIN CAPITAL LETTER U WITH GRAVE -&gt; U */
<span class="lineNum">     320 </span>            :         {0x00da, 0x55, 1}, /* LATIN CAPITAL LETTER U WITH ACUTE -&gt; U */
<span class="lineNum">     321 </span>            :         {0x00db, 0x55, 1}, /* LATIN CAPITAL LETTER U WITH CIRCUMFLEX -&gt; U */
<span class="lineNum">     322 </span>            :         {0x00dd, 0x59, 1}, /* LATIN CAPITAL LETTER Y WITH ACUTE -&gt; Y */
<span class="lineNum">     323 </span>            :         {0x00e3, 0x61, 1}, /* LATIN SMALL LETTER A WITH TILDE -&gt; a */
<span class="lineNum">     324 </span>            :         {0x00f5, 0x6f, 1}, /* LATIN SMALL LETTER O WITH TILDE -&gt; o */
<span class="lineNum">     325 </span>            :         {0x00fd, 0x79, 1}, /* LATIN SMALL LETTER Y WITH ACUTE -&gt; y */
<span class="lineNum">     326 </span>            : };
<a name="327"><span class="lineNum">     327 </span>            : </a>
<span class="lineNum">     328 </span>            : int
<span class="lineNum">     329 </span><span class="lineNoCov">          0 : pcdisplay_mapchar(void *id, int uni, unsigned int *index)</span>
<span class="lineNum">     330 </span>            : {
<span class="lineNum">     331 </span>            :         u_int i;
<span class="lineNum">     332 </span>            : 
<span class="lineNum">     333 </span><span class="lineNoCov">          0 :         if (uni &lt; 128) {</span>
<span class="lineNum">     334 </span><span class="lineNoCov">          0 :                 *index = uni;</span>
<span class="lineNum">     335 </span><span class="lineNoCov">          0 :                 return (5);</span>
<span class="lineNum">     336 </span><span class="lineNoCov">          0 :         } else if ((uni &lt; 256) &amp;&amp; (isomappings[uni - 128] != NOTPRINTABLE)) {</span>
<span class="lineNum">     337 </span><span class="lineNoCov">          0 :                 *index = isomappings[uni - 128];</span>
<span class="lineNum">     338 </span><span class="lineNoCov">          0 :                 return (5);</span>
<span class="lineNum">     339 </span>            :         }
<span class="lineNum">     340 </span>            : 
<span class="lineNum">     341 </span><span class="lineNoCov">          0 :         for (i = 0; i &lt; sizeof(unimappings) / sizeof(unimappings[0]); i++)</span>
<span class="lineNum">     342 </span><span class="lineNoCov">          0 :                 if (uni == unimappings[i].uni) {</span>
<span class="lineNum">     343 </span><span class="lineNoCov">          0 :                         *index = unimappings[i].ibm;</span>
<span class="lineNum">     344 </span><span class="lineNoCov">          0 :                         return (5);</span>
<span class="lineNum">     345 </span>            :                 }
<span class="lineNum">     346 </span>            : 
<span class="lineNum">     347 </span><span class="lineNoCov">          0 :         for (i = 0; i &lt; sizeof(replacements) / sizeof(replacements[0]); i++)</span>
<span class="lineNum">     348 </span><span class="lineNoCov">          0 :                 if (uni == replacements[i].uni) {</span>
<span class="lineNum">     349 </span><span class="lineNoCov">          0 :                         *index = replacements[i].ibm;</span>
<span class="lineNum">     350 </span><span class="lineNoCov">          0 :                         return (replacements[i].quality);</span>
<span class="lineNum">     351 </span>            :                 }
<span class="lineNum">     352 </span>            : 
<span class="lineNum">     353 </span><span class="lineNoCov">          0 :         *index = NOTPRINTABLE;</span>
<span class="lineNum">     354 </span><span class="lineNoCov">          0 :         return (0);</span>
<span class="lineNum">     355 </span><span class="lineNoCov">          0 : }</span>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.13</a></td></tr>
  </table>
  <br>

</body>
</html>
